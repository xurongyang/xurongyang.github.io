---
title: DDIA笔记
date: 2018-03-25 19:00:48
tags:
categories:
- 分布式
---

### 第一章 [可靠性、可扩展性、可维护性](https://vonng.gitbooks.io/ddia-cn/content/ch1.html)

什么是可靠性，可扩展性和可维护性？

可靠性：硬件故障，软件故障，人为操作故障

可扩展性：描述负载，描述性能，应对负载的方法

可维护性：自动化运维，降低系统复杂度，拥抱变化（轻松应对变化）

### 第二章 [数据模型与查询语言](https://vonng.gitbooks.io/ddia-cn/content/ch2.html) 

每个层都通过提供一个明确的数据模型来隐藏更低层次中的复杂性。这些抽象允许不同的人群有效地协作（例如数据库厂商的工程师和使用数据库的应用程序开发人员）。

掌握一个数据模型需要花费很多精力（想想关系数据建模有多少本书）。即便只使用一个数据模型，不用操心其内部工作机制，构建软件也是非常困难的。然而，因为数据模型对上层软件的功能（能做什么，不能做什么）有着至深的影响，所以选择一个适合的数据模型是非常重要的。

比较关系模型：关系型模型相对于文档模型的优点在于支持多对一和多对多的关系。

### 第三章

#### Bitcask

Bitcask索引是保存在内存中的哈希表，非常适合每个key都经常更新的情况。因为只需一次磁盘寻道就可以从磁盘加载这些值。 如果数据文件的那部分已经在文件系统缓存中，则读取根本不需要任何磁盘I / O。

Bitcask通过在磁盘上存储每个分段的哈希映射的快照来加速恢复索引，使得索引可以更快地加载到内存中。

数据库可能随时崩溃，包括在记录附加记录的一半。 Bitcask文件包含校验和，允许检测并忽略这些损坏的日志部分。

由于写操作是以严格顺序的顺序附加到日志中的，所以常见的实现选择是只有一个写入线程。 数据文件段只能新增，所以它们可以由多个线程同时读取。